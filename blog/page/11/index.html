
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Mike Murray</title>
	<meta name="author" content="Mike Murray">

	
	<meta name="description" content="Again, I promise I won&#8217;t do this very often (since this is a programming blog), but the world needs to know&#8230; Irena Sendler (http://en. &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="http://feeds.feedburner.com/mkmurray/" rel="alternate" title="Mike Murray" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<link href='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCore.min.css' rel='stylesheet' type='text/css'/>
<link href='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shThemeRDark.min.css' rel='stylesheet' type='text/css'/>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shAutoloader.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCpp.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCSharp.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCss.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPlain.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPowerShell.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushRuby.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushSql.min.js' type='text/javascript'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushXml.min.js' type='text/javascript'></script>
<script type='text/javascript'>
     SyntaxHighlighter.config.bloggerMode = true;
     SyntaxHighlighter.all();
</script>

</head>

<body>
	<div class="container">
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">


    <article class="post">
	<h1 class="title"><a href="/blog/2008/08/08/irena-sendler-s-story/">Irena Sendler&#8217;s Story</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-08-08T15:04:00-06:00" pubdate data-updated="true">Aug 8<span>th</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/news-and-politics/'>News and Politics</a>, <a class='category' href='/blog/categories/personal/'>Personal</a>


</div>
		
			<span class="comments"><a href="/blog/2008/08/08/irena-sendler-s-story/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>Again, I promise I won&#8217;t do this very often (since this is a programming blog), but the world needs to know&#8230;</p>  <p>Irena Sendler (<a title="http://en.wikipedia.org/wiki/Irena_Sendler" href="http://en.wikipedia.org/wiki/Irena_Sendler">http://en.wikipedia.org/wiki/Irena_Sendler</a>), a Polish Catholic social worker, risked her very own life to save 2,500 Jewish children from certain death at the hands of the Nazi genocide.&#160; She did it by smuggling the children out of the Warsaw ghettos and placing them in new homes with new identities.&#160; Then when the Holocaust was over, she spent her life reuniting these children with loved ones and extended family members (because many of the children&#8217;s parents had been executed).</p>  <p>An amazing woman, worthy of an amazing recognition.&#160; The Nobel Peace Prize would be fitting, wouldn&#8217;t you say?&#160; It is awarded &quot;to the person who shall have done the most or the best work for fraternity between nations, for the abolition or reduction of standing armies, and for the holding and promotion of peace congresses.&quot;</p>  <p>She was indeed nominated for the prize in 2007.&#160; However, she lost&#8230;and guess who won instead?&#160; A propagandist and environmental alarmist, who has placed himself in a position to benefit greatly (financially and politically) from the &quot;Green Movement&quot; (in truth, it is nothing more than a <u>theory</u> that greenhouse gases are the cause of Global Warming).&#160; Al Gore won the Nobel Peace Prize for creating a slide show movie.&#160; I think I would be less irritated if he had won for his invention of the Internet or something.</p>  <p>Here is a tribute to Irena Sendler that everyone should watch:&#160; </p> <span class='fullpost'> <div class="wlWriterEditableSmartContent" id="scid:5737277B-5D6D-4f48-ABFC-DD9C333F4C5D:425be2e7-e30a-43d8-aa56-48a65b862f90" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px"><div id="cb495db8-dacb-4ed8-8fc6-6bfa1b5bc49d" style="margin: 0px; padding: 0px; display: inline;"><div><a href="http://www.youtube.com/watch?v=OVw1PANUcdg" target="_new"><img src="http://lh4.ggpht.com/_rps657FzHZ0/SujVvA5fjrI/AAAAAAAAADI/P1YlI2mylCg/videod77a2dbc4c7a.jpg?imgmax=800" style="border-style: none" galleryimg="no" width="340" height="280" onload="var downlevelDiv = document.getElementById('cb495db8-dacb-4ed8-8fc6-6bfa1b5bc49d'); downlevelDiv.innerHTML = &quot;&lt;div&gt;&lt;object width=\&quot;340\&quot; height=\&quot;280\&quot;&gt;&lt;param name=\&quot;movie\&quot; value=\&quot;http://www.youtube.com/v/OVw1PANUcdg\&quot;&gt;&lt;\/param&gt;&lt;param name=\&quot;wmode\&quot; value=\&quot;transparent\&quot;&gt;&lt;\/param&gt;&lt;embed src=\&quot;http://www.youtube.com/v/OVw1PANUcdg\&quot; type=\&quot;application/x-shockwave-flash\&quot; wmode=\&quot;transparent\&quot; width=\&quot;340\&quot; height=\&quot;280\&quot;&gt;&lt;\/embed&gt;&lt;\/object&gt;&lt;\/div&gt;&quot;;" alt=""></a></div></div></div>  <p>The question I have to ask is how can Al Gore accept the Nobel Peace Prize, knowing that he was up against a real hero and freedom fighter?&#160; She risked her life for peace and saved 2,500 Jewish children.&#160; Al Gore has done nothing but shoot off his mouth.&#160; How can he even think he deserved the prize more than her?&#160; Why didn&#8217;t he decline the prize and offer up the name of Irena instead?&#160; Because it didn&#8217;t quite fit into his political agenda.</p>  <p>On behalf of those that can appreciate true selfless and compassionate service to mankind, I have just four words for Irena Sendler:</p>  <p>Thank you so much.</p> </span>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
The 2007 Nobel Peace Prize was shared.</div>
</div>
</div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/08/04/cannot-set-a-value-on-node-type-element/">Cannot Set a Value on Node Type &#8216;Element&#8217;</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-08-04T13:05:00-06:00" pubdate data-updated="true">Aug 4<span>th</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/-net/'>.NET</a>, <a class='category' href='/blog/categories/c-/'>C#</a>, <a class='category' href='/blog/categories/error/'>Error</a>, <a class='category' href='/blog/categories/microsoft/'>Microsoft</a>, <a class='category' href='/blog/categories/visual-studio/'>Visual Studio</a>, <a class='category' href='/blog/categories/xml/'>XML</a>


</div>
		
			<span class="comments"><a href="/blog/2008/08/04/cannot-set-a-value-on-node-type-element/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>You will receive an <font face="Courier New">InvalidOperationException</font> with this error message if you try to use the <font face="Courier New">Value</font> property of an <font face="Courier New">XmlNode</font> to set the node&#8217;s value.&#160; You need to set the value using the <font face="Courier New">InnerText</font> property instead.</p>  <p>Thank you to this blog post for documenting the issue and its fix:&#160; <a title="http://www.neilpullinger.co.uk/2008/03/cannot-set-value-on-node-type-element.html" href="http://www.neilpullinger.co.uk/2008/03/cannot-set-value-on-node-type-element.html">http://www.neilpullinger.co.uk/2008/03/cannot-set-value-on-node-type-element.html</a></p>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
TKSSSSSSSSSSSSSSSSSSS</div>
</div>
<div class='comment'>
<div class='author'>Sandeepya</div>
<div class='content'>
Thanks !</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
This helped me a lot - a huge Thanks from Germany!</div>
</div>
</div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/07/22/virtual-machine-converter-tool/">Virtual Machine Converter Tool</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-07-22T16:02:00-06:00" pubdate data-updated="true">Jul 22<span>nd</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/error/'>Error</a>, <a class='category' href='/blog/categories/new-technology/'>New Technology</a>, <a class='category' href='/blog/categories/vmware/'>VMWare</a>, <a class='category' href='/blog/categories/virtual-machine/'>Virtual Machine</a>


</div>
		
			<span class="comments"><a href="/blog/2008/07/22/virtual-machine-converter-tool/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p><a href="http://www.vmware.com/">VMWare</a> provides a free utility that can clone physical machines into a VMWare virtual machine; it can also convert other vendors&#8217; VM formats into the VMWare format.&#160; I can think of so many uses for this very handy tool.&#160; It has a very simple and easy user interface that walks you through the steps.&#160; Here is a link to the product:</p>  <p><a title="http://www.vmware.com/products/converter/" href="http://www.vmware.com/products/converter/">http://www.vmware.com/products/converter/</a></p>  <p><u>One important note</u>:&#160; When you are specifying the name and destination of the resultant VM image, the location must be in UNC format (i.e., <font face="Courier New">&#92;machinename\share</font>).&#160; The thing that got me, though, was that it will give you an uninformative error if you leave a trailing backslash (&#8216;&#39;) at the end of the UNC path, saying something like it couldn&#8217;t connect to the share for some reason.&#160; Just remove the last slash and you&#8217;ll be good to go.</p>  </div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/07/14/adding-a-linux-machine-to-a-windows-domain/">Adding a Linux Machine to a Windows Domain</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-07-14T14:26:00-06:00" pubdate data-updated="true">Jul 14<span>th</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/active-directory/'>Active Directory</a>, <a class='category' href='/blog/categories/kerberos/'>Kerberos</a>, <a class='category' href='/blog/categories/linux/'>Linux</a>, <a class='category' href='/blog/categories/microsoft/'>Microsoft</a>, <a class='category' href='/blog/categories/pam/'>PAM</a>, <a class='category' href='/blog/categories/samba/'>Samba</a>, <a class='category' href='/blog/categories/winbind/'>Winbind</a>, <a class='category' href='/blog/categories/windows/'>Windows</a>


</div>
		
			<span class="comments"><a href="/blog/2008/07/14/adding-a-linux-machine-to-a-windows-domain/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>Before I went on vacation last week, I was able to successfully add a Red Hat Enterprise Server (version 3) box to our Windows 2003 Active Directory Domain.&#160; I primarily used the following link as a guide through the process:</p>  <p><a title="http://www.wlug.org.nz/ActiveDirectorySamba" href="http://www.wlug.org.nz/ActiveDirectorySamba">http://www.wlug.org.nz/ActiveDirectorySamba</a></p>  <p>I will now add some extra commentary to each of the steps on the tutorial for my specific situation:</p> <span class='fullpost'> <p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>  <p><strong>1.&#160; Install and Check Necessary Packages</strong>:&#160; For this step, I opened a shell and used the <font face="Courier New">up2date</font> utility to verify the named packages were up-to-date.&#160; Prior to this, I had let Red Hat update everything it thought needed to be updated; this means that this step was trivial for me, since every necessary package was found and up-to-date.&#160; Also, my installation had <font face="Courier New">system-config-samba</font> for the first packaged named in the list.</p>  <p><strong>2.&#160; Configure Name Resolution</strong>:&#160; We chose the easier option of merely configuring the <font face="Courier New">hosts</font> file on both machines.&#160; I know the tutorial says to avoid it, but we are not at a place right now where we could easily switch our DNS machine to be a Linux box.&#160; We haven&#8217;t had any problems so far, but I will keep you updated.</p>  <p><strong>3.&#160; Configure Samba and Winbindd</strong>:&#160; I went ahead and just replaced my <font face="Courier New">smb.conf</font> with the one in the tutorial and then modified the <font face="Courier New">workgroup</font>, <font face="Courier New">netbios name</font>, <font face="Courier New">realm</font>, and <font face="Courier New">password server</font> accordingly.</p>  <p><strong>4.&#160; Configure Kerberos</strong>:&#160; I was able to get the <font face="Courier New">net ads join</font> command to work after changing one configuration setting in the <font face="Courier New">\etc\krb5.conf</font> file (and therefore, not needing to perform the &quot;<font face="Courier New">Manual Approach</font>&quot;).&#160; I changed the <font face="Courier New">dns_lookup_kdc</font> property to <font face="Courier New">true</font> and then the Domain server was able to accept the Linux box into the domain.&#160; I eventually ended up making a few more changes to this file after seeing an example file on Red Hat&#8217;s support site.&#160; My config file looks just like the one at this link, with the exception of the property I set to <font face="Courier New">true</font> mentioned above (also don&#8217;t forget to replace the <font face="Courier New">EXAMPLE.DIRECTORY</font> and <font face="Courier New">10.0.0.1</font> place-holders with your specific values):</p>  <p><a title="http://kbase.redhat.com/faq/FAQ_71_2338.shtm" href="http://kbase.redhat.com/faq/FAQ_71_2338.shtm">http://kbase.redhat.com/faq/FAQ_71_2338.shtm</a></p>  <p>Next, go ahead and execute the commands in the &quot;<font face="Courier New">(Re)starting Samba and Winbindd</font>&quot; section in order to test that everything is playing nice.&#160; For my installation, however, in order to restart the Samba service, I used the following command from a shell:</p>  <p><font face="Courier New">/etc/rc.d/init.d/smb restart</font></p>  <p>If everything goes alright, then modify the <font face="Courier New">init.d</font> startup scripts in order to start the <font face="Courier New">smb</font> and <font face="Courier New">winbindd</font> services at boot up.&#160; For my installation, I ended up just using the GUI utility provided by Red Hat found under something like<font face="Courier New"> System Settings<font face="Verdana"> |</font> Server Settings</font> | <font face="Courier New">Services</font><font face="Verdana"> (or you can just type <font face="Courier New">redhat-config-services </font>into a shell).</font>&#160; Just check the two services and then be sure to hit the <font face="Courier New">Save</font> button.</p>  <p><strong>5.&#160; Configure PAM and Winbind</strong>:&#160; For this step, I ended up changing a few different config files, and I&#8217;m not which ones really mattered or not.&#160; So go ahead and make the changes to <font face="Courier New">\etc\pam.d\login</font>; I believe it is 3 lines that need to be added (the <font face="Courier New">auth</font> line for <font face="Courier New">pam_unix.so</font> and two <font face="Courier New">pam_winbind.so</font> lines, one for the <font face="Courier New">auth</font> section and one for the <font face="Courier New">account</font><font face="Verdana"> section).&#160; I also added these same 3 lines to <font face="Courier New">\etc\pam.d\remote</font> and <font face="Courier New">\etc\pam.d\sshd</font>.&#160; For the <font face="Courier New">\etc\pam.d\su</font> config file, I only added the two <font face="Courier New">pam_winbind.so</font> lines (with no parameters and using the <font face="Courier New">/lib/security/$ISA/</font> folder structure all of the other lines in the file use).</font></p>  <p>There is one more change I made to <font face="Courier New">\etc\pam.d\system-auth</font>, which allows the automatic creation of user profiles for your domain accounts upon first login.&#160; I added the following script call as <font face="Courier New">required</font> under the <font face="Courier New">session</font> section:</p>  <p><font face="Courier New">/lib/security/$ISA/pam_mkhomedir.so skel=/etc/skel umask=0077</font></p>  <p><font face="Verd">Be sure to read the article at the following link to understand what this script will and won&#8217;t do:</font></p>  <p><a title="http://kbase.redhat.com/faq/FAQ_85_5367.shtm" href="http://kbase.redhat.com/faq/FAQ_85_5367.shtm">http://kbase.redhat.com/faq/FAQ_85_5367.shtm</a></p>  <p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>  <p>After verifying that domain user accounts can login, su, and ssh, I also did a reboot to make sure everything started up correctly on boot up and that the profiles were being automatically created.&#160; Also, make sure the login screen will show the box name and it&#8217;s newly inherited domain.</p>  <p>I may be trying to do this exact same procedure soon for an Ubuntu machine on our company network.&#160; I&#8217;m still undecided whether to just try this method above or to try following a pretty well-written tutorial I found on Ubuntu&#8217;s support site (currently, I&#8217;m leaning toward the latter).&#160; I&#8217;ll let you know how it goes when I do though.</p>  <p><strong><u>FOLLOWUP (07/16/08)</u></strong>:&#160; I just found out the Ubuntu machine is going to be phased out and redone anyway.&#160; So I won&#8217;t be attempting to migrate it to our Windows Domain anymore.&#160; But here are some good links I found in my research specific to doing this process on Ubuntu:</p>  <ul>   <li><a title="https://help.ubuntu.com/community/ActiveDirectoryWinbindHowto" href="https://help.ubuntu.com/community/ActiveDirectoryWinbindHowto">https://help.ubuntu.com/community/ActiveDirectoryWinbindHowto</a></li>    <li><a title="http://ubuntuforums.org/showthread.php?t=5409" href="http://ubuntuforums.org/showthread.php?t=5409">http://ubuntuforums.org/showthread.php?t=5409</a></li>    <li><a title="http://ubuntuforums.org/showthread.php?t=113149" href="http://ubuntuforums.org/showthread.php?t=113149">http://ubuntuforums.org/showthread.php?t=113149</a></li> </ul> </span>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>PapaBear</div>
<div class='content'>
Excellent!  Now if only my current company had some linux servers for me to play around on (and were willing to let me play with their Active Directory).  Someday I plan to buy a really beefy 64bit server (one running the new cell processor), put windows server 2008 on it and virtualize a whole bunch of windows and linux machines in an isolated network on it.  Then I can designate one of the many windows server 2003 virtual machines that I will have running in it as a D.C. and try to join every other virtual machine to it (including the linux ones using the steps you outlined here!) all on a single physical machine (one of the virtual machines will be a linux firewall/router so that I can connect to the host machine&#8217;s network adapter so that it can see the internet).   Someday&#8230;.  Until then I can only dream about the awesome experience you are having at your current job.  Kudos, Mike!</div>
</div>
</div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/07/03/randomly-reordering-an-array-beware-of-bias/">Randomly Reordering an Array - Beware of Bias</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-07-03T16:34:00-06:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/algorithms/'>Algorithms</a>, <a class='category' href='/blog/categories/c-/'>C#</a>, <a class='category' href='/blog/categories/error/'>Error</a>


</div>
		
			<span class="comments"><a href="/blog/2008/07/03/randomly-reordering-an-array-beware-of-bias/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>So I came upon the following blog post and found that I (just as the author has done) have been using a naive algorithm for randomly reordering arrays (mostly notably used when shuffling a deck of cards):</p>  <p><a title="http://scottonwriting.net/sowblog/posts/13356.aspx" href="http://scottonwriting.net/sowblog/posts/13356.aspx">http://scottonwriting.net/sowblog/posts/13356.aspx</a></p>  <p>I agree I have seen this simple iterate-and-swap reordering algorithm all over the place, even in my education at college.&#160; I can think of a few applications that I am using it in right now.&#160; Here is some example C# code demonstrating the faulty algorithm:</p> <span class='fullpost'> <div style="border-right: gray 1px solid; padding-right: 4px; border-top: gray 1px solid; padding-left: 4px; font-size: 8pt; padding-bottom: 4px; margin: 20px 0px 10px; border-left: gray 1px solid; width: 97.5%; cursor: text; max-height: 225px; line-height: 12pt; padding-top: 4px; border-bottom: gray 1px solid; font-family: consolas, &#39;Courier New&#39;, courier, monospace; background-color: #f4f4f4"><pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &#39;Courier New&#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none">Random rnd = <span style="color: #0000ff">new</span> Random();

<span style="color: #0000ff">for</span> (<span style="color: #0000ff">int</span> i = 0; i &lt; deck.Length; i++)
{
   <span style="color: #008000">// Set swapWithPos to a random position,</span>
   <span style="color: #008000">//    such that 0 &lt;= swapWithPos &lt; deck.Length</span>
   <span style="color: #0000ff">int</span> swapWithPos = rnd.Next(deck.Length);

   <span style="color: #008000">// Swap the value at the &quot;current&quot;</span>
   <span style="color: #008000">//    position (i) with value at swapWithPos</span>
   <span style="color: #0000ff">int</span> tmp = deck[i];
   deck[i] = deck[swapWithPos];
   deck[swapWithPos] = tmp;
}</pre></div>
<p>Apparently, there is some bias introduced by this algorithm while reordering the array.&#160; For example, with a 3 item array of values <font face="Courier New">[0, 1, 2]</font>, there are 27 outcomes, but only 6 unique permutations.&#160; Half of the permutations (<font face="Courier New">[0, 2, 1]</font>, <font face="Courier New">[1, 0, 2]</font>, and <font face="Courier New">[1, 2, 0]</font>) each appear 5 times in the 27 outcomes, while the other half of the permutations (<font face="Courier New">[0, 1, 2]</font>, <font face="Courier New">[2, 0, 1]</font>, and <font face="Courier New">[2, 1, 0]</font>) each appear only 4 times each.&#160; There is a slight bias toward half of the permutations in this example.</p><p>With a few modifications, this algorithm can be morphed into the <a href="http://en.wikipedia.org/wiki/Fisher-Yates_shuffle">Fisher-Yates Shuffle (also known as the Knuth Shuffle)</a>, which provides for an unbiased way to guarantee each permutation to be equally likely.&#160; Here is some example C# code showing the more correct reordering algorithm:</p><div style="border-right: gray 1px solid; padding-right: 4px; border-top: gray 1px solid; padding-left: 4px; font-size: 8pt; padding-bottom: 4px; margin: 20px 0px 10px; border-left: gray 1px solid; width: 97.5%; cursor: text; max-height: 325px; line-height: 12pt; padding-top: 4px; border-bottom: gray 1px solid; font-family: consolas, &#39;Courier New&#39;, courier, monospace; background-color: #f4f4f4"><pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &#39;Courier New&#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none">Random rnd = <span style="color: #0000ff">new</span> Random();

<span style="color: #008000">// The number of items left to shuffle (loop invariant).</span>
<span style="color: #0000ff">int</span> i = deck.length;

<span style="color: #0000ff">while</span> (i &gt; 1)
{
    <span style="color: #008000">// Set swapWithPos to a random position,</span>
    <span style="color: #008000">//    such that 0 &lt;= swapWithPos &lt; i</span>
    <span style="color: #0000ff">int</span> swapWithPos = rnd.Next(i);

    <span style="color: #008000">// Decrement i in order to make it the last pertinent index</span>
    --i;

    <span style="color: #008000">// Swap the value at the &quot;current&quot;</span>
    <span style="color: #008000">//    position (i) with value at swapWithPos</span>
    <span style="color: #0000ff">int</span> tmp = deck[i];
    deck[i] = deck[swapWithPos];
    deck[swapWithPos] = tmp;
}</pre></div><p>This algorithm has built into it some method for setting aside a growing set of already shuffled items as it iterates through the array.&#160; Perhaps it is this feature that eliminates the bias toward a certain subset of the permutations (I can&#8217;t really tell from my readings).</p><p><u><strong>FOLLOWUP (01/05/09):</strong></u>&#160; I found this article today on the same subject, but with a lot more graphs and detailed explanations:&#160; <a href="http://www.codinghorror.com/blog/archives/001015.html">The Danger of Na&#239;vet&#233;</a></p>
</span>  </div>

		
		
	</div>

</article>

<nav id="pagenavi">
    
        <a href="/blog/page/10/" class="prev">Prev</a>
    
    
        <a href="/blog/page/12/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2012

    Mike Murray


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
</footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'mkmurray';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-36228026-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



		</div>
		<div class="left-col">
			<header id="header" class="inner"><div class="profilepic">	
	<img src="/images/mkmurray.jpg" alt="Profile Picture">
</div>
<h1><a href="/">Mike Murray</a></h1>
<nav id="main-nav"><ul class="main">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories">Categories</a></li>
</ul>

<br />
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mkmurray.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

</nav>
<br/>
<h3 class="alignleft">please code responsibly</h3>
<br/>
<br/>
<br/>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		<a class="facebook" href="http://www.facebook.com/mkmurray" title="Facebook">Facebook</a>
		
		
		<a class="google" href="https://plus.google.com/109073345657761090655?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/mkmurray" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/mkmurray" title="GitHub">GitHub</a>
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/mkmurray">LinkedIn</a>
		
		
		
		
		<a class="rss" href="http://feeds.feedburner.com/mkmurray/" title="RSS">RSS</a>
		
	</div>
</nav>

</header>				
		</div>	
	</div>
</body>
</html>
